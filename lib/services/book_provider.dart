import 'package:book_store_app/consts/constants.dart';
import 'package:book_store_app/models/Book.dart';
import 'package:get/get.dart';

class BookProvider extends GetConnect {
  Future<List<Book>> getBooks() async {
    final response =
        await get('$apiBaseURL/books'); // url for books inital 10 books
    if (response.status.hasError) {
    // if (false) {
      return Future.error(response.statusText);
    } else {
      List<Book> _book = Book.listFromJson(response.body['Books']);
      // List<Book> _book = Book.listFromJson(
      //   [
      //     {
      //       "_id": "33aef757-9726-4d80-8f98-935049cc4e5c",
      //       "ISBN": "978-5-901574-95-9",
      //       "Автор": "Вульф К.",
      //       "Название": "Антропология воспитания",
      //       "Издательство": "Праксис",
      //       "язык_оригинала": "русский",
      //       "Год": 2012,
      //       "Кол-во_стр.": 324,
      //       "Размер": "150x273x17",
      //       "Вес": 0.3,
      //       "Тип_обл.": "обл.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786067106985.jpg",
      //       "Цена_поставщика": 322,
      //       "id_книги_наш": 30860,
      //       "id_книги_поставщика": 81752,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "11320a91-4ab3-4e10-bdbf-2412454fcebf",
      //       "ISBN": "978-5-7996-0651-0",
      //       "Автор": "Казарин Ю.",
      //       "Название": "Беседы с Майей Никулиной",
      //       "Издательство": "УрГПУ",
      //       "язык_оригинала": "русский",
      //       "Год": 2011,
      //       "Кол-во_стр.": 680,
      //       "Размер": "215x248x19",
      //       "Вес": 0.7,
      //       "Тип_обл.": "пер.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786067887136.jpg",
      //       "Цена_поставщика": 260,
      //       "id_книги_наш": 40269,
      //       "id_книги_поставщика": 11666,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "975feb8a-ca8f-421a-97e3-54ff08334919",
      //       "ISBN": "978-999999-0-19-6",
      //       "Автор": "Доброхотов А.",
      //       "Название": "Данте Алигьери",
      //       "Издательство": "Common place",
      //       "язык_оригинала": "русский",
      //       "Год": 2017,
      //       "Кол-во_стр.": 533,
      //       "Размер": "135х205x17",
      //       "Вес": 0.3,
      //       "Тип_обл.": "пер.",
      //       "Аннотация":
      //           "Переиздание работы историка философии, культуролога Александра Доброхотова. Книга посвящена философии Данте Алигьери. В контексте интеллектуальной жизни зрелого Средневековья рассмотрены основные аспекты мировоззрения великого поэта: концепция личности, философия любви, космология, психология, социально-политические взгляды. Выявляя философские смыслы «Божественной комедии», автор систематично следует повествовательному строению поэмы, что делает книгу своего рода путеводителем по тексту великого творения Данте.",
      //       "файл_обложки": "interbok.se/files/9786067887099.jpg",
      //       "Цена_поставщика": 586,
      //       "id_книги_наш": 49188,
      //       "id_книги_поставщика": 2825,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "cda8492e-a4e6-4050-b2c5-e90ca1a3d552",
      //       "ISBN": "978-5-904217-10-0",
      //       "Автор": "Поздняков В.",
      //       "Название":
      //           "Египет. История, культура, традиции и обычаи, памятники",
      //       "Издательство": "ИД МИСиС",
      //       "язык_оригинала": "русский",
      //       "Год": 2011,
      //       "Кол-во_стр.": 400,
      //       "Размер": "111x227x14",
      //       "Вес": 0.8,
      //       "Тип_обл.": "пер.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786090124239.jpg",
      //       "Цена_поставщика": 100,
      //       "id_книги_наш": 54922,
      //       "id_книги_поставщика": 93247,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "fc281c17-28b2-41ab-a206-d6c4513d47ce",
      //       "ISBN": "978-5-87444-316-0",
      //       "Автор": "Попов Е., Власов М.",
      //       "Название": "Институты миниэкономики знаний",
      //       "Издательство": "Academia",
      //       "язык_оригинала": "русский",
      //       "Год": 2009,
      //       "Кол-во_стр.": 289,
      //       "Размер": "196x218x20",
      //       "Вес": 0.3,
      //       "Тип_обл.": "пер.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786090135891.jpg",
      //       "Цена_поставщика": 260,
      //       "id_книги_наш": 48411,
      //       "id_книги_поставщика": 79257,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "31dddc7f-4980-4ce7-a4ff-c8bfe79a2762",
      //       "ISBN": "978-5-91627-271-0",
      //       "Автор": "Месяц В.",
      //       "Название": "Пани Малгожата",
      //       "Издательство": "Русский гулливер, Центр современной литературы",
      //       "язык_оригинала": "русский",
      //       "Год": 2021,
      //       "Кол-во_стр.": 148,
      //       "Размер": "133x249x18",
      //       "Вес": 0.2,
      //       "Тип_обл.": "пер.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786067998726.jpg",
      //       "Цена_поставщика": 96,
      //       "id_книги_наш": 60823,
      //       "id_книги_поставщика": 26552,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "1f32c2c5-e006-40c6-b3c2-38f15de6a952",
      //       "ISBN": "978-5-353-05527-3",
      //       "Автор": "Кесукэ Мотоми",
      //       "Название": "Мобильная маргаритка. Том 2",
      //       "Издательство": "РОСМЭН",
      //       "язык_оригинала": "русский",
      //       "Год": 2011,
      //       "Кол-во_стр.": 510,
      //       "Размер": "125х190x17",
      //       "Вес": 0.2,
      //       "Тип_обл.": "обл",
      //       "Аннотация":
      //           "Квартиру бедной школьницы Тэру перевернули вверх дном воры, поэтому девушка пока живёт у школьного уборщика Куросаки. На самом деле Куроскаки — это Дейзи, таинственный друг Тэру по переписке, но она об этом не догадывается. Как они уживутся вместе под одной крышей?!",
      //       "файл_обложки": "interbok.se/files/9786067887143.jpg",
      //       "Цена_поставщика": 293,
      //       "id_книги_наш": 47438,
      //       "id_книги_поставщика": 14954,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "fb912edd-d3b7-4bd7-b9c7-de85aecd7999",
      //       "ISBN": "978-5-904676-30-8",
      //       "Автор": "Миген Юн",
      //       "Название": "Невеста речного бога. Том. 9.",
      //       "Издательство": "Истари Комикс",
      //       "язык_оригинала": "русский",
      //       "Год": 2014,
      //       "Кол-во_стр.": 423,
      //       "Размер": "84х108\\32x17",
      //       "Вес": 0.2,
      //       "Тип_обл.": "обл.,супер",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786067998740.jpg",
      //       "Цена_поставщика": 187,
      //       "id_книги_наш": 42223,
      //       "id_книги_поставщика": 20228,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "40468724-a94c-478d-b377-0512d8737b49",
      //       "ISBN": "5-85929-113-2",
      //       "Автор": "Ревякин Д.",
      //       "Название": "Калинов мост",
      //       "Издательство": "Антао",
      //       "язык_оригинала": "русский",
      //       "Год": 2001,
      //       "Кол-во_стр.": 638,
      //       "Размер": "240x298x13",
      //       "Вес": 0.5,
      //       "Тип_обл.": "пер.",
      //       "Аннотация": null,
      //       "файл_обложки": "interbok.se/files/9786090138977.jpg",
      //       "Цена_поставщика": 509,
      //       "id_книги_наш": 28896,
      //       "id_книги_поставщика": 99610,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //     {
      //       "_id": "2d0f522e-3465-4916-a4fe-9bcf87016a91",
      //       "ISBN": "978-5-7157-0299-9",
      //       "Автор": "Полоцкая Т.",
      //       "Название": "О прожитом и пережитом (Записки врача-гематолога)",
      //       "Издательство": "Возвращение",
      //       "язык_оригинала": "русский",
      //       "Год": 2015,
      //       "Кол-во_стр.": 222,
      //       "Размер": "145х220x18",
      //       "Вес": 0.3,
      //       "Тип_обл.": "пер",
      //       "Аннотация":
      //           "Книга-воспоминание о жизни родителей, о большой семье Т. М. Полоцкой. О ее понятии ценностей жизни, о восприятии многих жизненных и профессиональных коллизий, о друзьях, обо всём, что важно и ценно для автора.",
      //       "файл_обложки": "interbok.se/files/9786090130810.jpg",
      //       "Цена_поставщика": 493,
      //       "id_книги_наш": 46738,
      //       "id_книги_поставщика": 76308,
      //       "поставщик": "Бакен",
      //       "срок_отправки_поставщика": 2,
      //       "способ_дост_0": "да",
      //       "способ_дост_1": "да",
      //       "способ_дост_2": "да",
      //       "способ_дост_3": "да",
      //       "способ_дост_4": "нет",
      //       "способ_дост_5": "нет",
      //       "способ_дост_6": "нет",
      //       "способ_дост_7": "нет",
      //       "способ_дост_8": "нет",
      //       "способ_дост_9": "нет"
      //     },
      //   ],
      // );
      
      return _book;
    }
  }

  Future<List<Book>> getsuggestionBook() async {
    final response =
        await get('$apiBaseURL/books'); // url for books inital 10 books
    if (response.status.hasError) {
      return Future.error(response.statusText);
    } else {
      List<Book> _book = Book.listFromJson(response.body['Books']);
      return _book;
    }
  }
}
